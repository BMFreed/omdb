{"version":3,"sources":["common.blocks/Header/FlyoutMenu/FlyoutMenu.js","common.blocks/Header/Header.js","common.blocks/Home/Home.js","common.blocks/MovieList/MovieCard/MovieCard.js","common.blocks/MovieList/MovieList.js","common.blocks/Footer/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["FlyoutMenu","props","HandleFilter","event","target","innerText","setType","open","className","ref","reference","value","onClick","Header","useState","typedValue","setTypedValue","openFlyout","setOpenFlyout","location","useLocation","menuRef","useRef","buttonRef","searchRef","useEffect","handler","current","contains","document","addEventListener","removeEventListener","pathname","setSearchValue","setOpen","onSubmit","preventDefault","localStorage","setItem","type","placeholder","onChange","src","process","alt","searchValue","to","Home","MovieCard","console","log","movie","Title","Poster","Type","Year","imdbID","href","setMovie","MovieList","handleMovie","title","currentTarget","split","i","movies","length","resolved","map","index","Test","Footer","App","setMovies","setResolved","a","url","fetch","response","json","responseJson","Response","Error","Search","getMovieRequest","query","getItem","getQuery","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ef56602a.chunk.js","sourcesContent":["function FlyoutMenu(props) {\r\n    const HandleFilter = (event) => {\r\n        if (event.target.innerText === \"All\") {\r\n            props.setType(null);\r\n        } else {\r\n            props.setType(event.target.innerText);\r\n        }\r\n    };\r\n\r\n    if (!props.open) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <ul\r\n            className=\"flyout-menu\"\r\n            ref={props.reference}\r\n        >\r\n            <li className=\"flyout-menu__item\" value=\"\" onClick={HandleFilter}>\r\n                all\r\n            </li>\r\n            <li className=\"flyout-menu__item\" value=\"movie\" onClick={HandleFilter}>\r\n                movie\r\n            </li>\r\n            <li className=\"flyout-menu__item\" value=\"series\" onClick={HandleFilter}>\r\n                series\r\n            </li>\r\n            <li className=\"flyout-menu__item\" value=\"game\" onClick={HandleFilter}>\r\n                game\r\n            </li>\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default FlyoutMenu;\r\n","import { useState, useEffect, useRef } from \"react\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\n\r\nimport FlyoutMenu from \"./FlyoutMenu/FlyoutMenu.js\";\r\n\r\nconst Header = (props) => {\r\n    const [typedValue, setTypedValue] = useState(\"\");\r\n    const [openFlyout, setOpenFlyout] = useState(false);\r\n    const location = useLocation();\r\n    const menuRef = useRef(null);\r\n    const buttonRef = useRef(null);\r\n    const searchRef = useRef(null);\r\n\r\n    //This is a click away listener. It will be called when the user clicks away from the menu or the button.\r\n    useEffect(() => {\r\n        let handler = (event) => {\r\n            if (\r\n                menuRef.current &&\r\n                !menuRef.current.contains(event.target) &&\r\n                !buttonRef.current.contains(event.target)\r\n            ) {\r\n                setOpenFlyout(false);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handler);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handler);\r\n        };\r\n    }, [openFlyout]);\r\n\r\n    //Here we are clearing out the input value when entering the homepage.\r\n    useEffect(() => {\r\n        if (location.pathname === \"/home\") {\r\n            searchRef.current.value = \"\";\r\n        }\r\n    }, [location]);\r\n\r\n    const handleInput = (event) => {\r\n        const value = event.target.value;\r\n        setTypedValue(value);\r\n    };\r\n\r\n    const HandleSearch = (event) => {\r\n        event.preventDefault();\r\n        props.setSearchValue(typedValue);\r\n        localStorage.setItem(\"searchQuery\", typedValue);\r\n    };\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header__logo header-margin\" onClick={() => props.setSearchValue(\"\")}>\r\n                <span className=\"header__title\">OMDb</span>\r\n            </div>\r\n            <div className=\"search header-margin\">\r\n                <button\r\n                    className=\"search__flyout_menu button search_padding\"\r\n                    onClick={() => setOpenFlyout(!openFlyout)}\r\n                    ref={buttonRef}\r\n                >\r\n                    All\r\n                </button>\r\n                <FlyoutMenu\r\n                    open={openFlyout}\r\n                    setOpen={setOpenFlyout}\r\n                    setType={props.setType}\r\n                    reference={menuRef}\r\n                />\r\n                <form onSubmit={HandleSearch} className=\"search__form\">\r\n                    <input\r\n                        ref={searchRef}\r\n                        type=\"search\"\r\n                        placeholder=\"search, example: Spider-Man\"\r\n                        onChange={handleInput}\r\n                        className=\"search__text search_padding\"\r\n                    />\r\n                    <button className=\"search__action button search_padding\" type=\"submit\">\r\n                        <img src={process.env.PUBLIC_URL + \"/img/Header/search.png\"} alt=\"\" />\r\n                    </button>\r\n                </form>\r\n            </div>\r\n            {props.searchValue !== \"\" ? <Redirect to=\"/search\" /> : <Redirect to=\"/home\" />}\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","function Home() {\r\n    return (\r\n        <section className=\"home section\">\r\n            <div className=\"home__wrapper\">\r\n                <h1 className=\"home__title\">Welcome!</h1>\r\n                <p className=\"home__subtitle\">This is an OMDB API client. You can search movies, TV series and videogames from the OMDB API and filter them by category.</p>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","function MovieCard(props) {\r\n    console.log(props.movie);\r\n    const handleClose = (event) => {\r\n        event.preventDefault();\r\n        props.setMovie(null)\r\n    }\r\n    return (\r\n        <section className=\"movie-card\">\r\n            <div className=\"movie-card__content\">\r\n                <h2 className=\"movie-card__title\">{props.movie.Title}</h2>\r\n                <div className=\"movie-card__wrapper\">\r\n                    <img src={props.movie.Poster} alt={`${props.movie.Title} poster`} />\r\n                    <div className=\"movie-card__right-content\">\r\n                        <span><b>{props.movie.Type}</b></span>\r\n                        <span><b>Year of release:</b> {props.movie.Year}</span>\r\n                        <span><b>ImDB ID:</b> {props.movie.imdbID}</span>\r\n                        <p>Description not provided by the API.</p>\r\n                    </div>\r\n                </div>\r\n                <a href=\"/\" className=\"movie-card__close-button\" onClick={handleClose}>\r\n                    <img src={process.env.PUBLIC_URL + \"/img/Movies/close.png\"} alt=\"close\" />\r\n                </a>\r\n            </div>\r\n            <div className=\"movie-card__background\"></div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default MovieCard;\r\n","import { useState } from \"react\";\r\nimport MovieCard from \"./MovieCard/MovieCard\";\r\n\r\nconst MovieList = (props) => {\r\n    const [movie, setMovie] = useState(null);\r\n\r\n    const handleMovie = (event) => {\r\n        let title = event.currentTarget.innerText.split(\"\\n\")[0];\r\n        for (let i = 0; i < props.movies.length; i++) {\r\n            if (props.movies[i].Title === title) {\r\n                setMovie(props.movies[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {movie ? <MovieCard movie={movie} setMovie={setMovie}/> : null}\r\n            <section className=\"movielist section\">\r\n                <div className=\"movielist__wrapper\">\r\n                    {!props.resolved ? (\r\n                        <p className=\"movielist__message\">Loading...</p>\r\n                    ) : props.movies && props.movies.length !== 0 ? (\r\n                        props.movies.map((movie, index) => (\r\n                            <div className=\"movie\" key={index} onClick={handleMovie}>\r\n                                <div className=\"movie__wrapper\">\r\n                                    <div className=\"movie__poster\">\r\n                                        <img\r\n                                            className=\"movie__img\"\r\n                                            src={movie.Poster}\r\n                                            alt={movie.Title}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"movie__info\">\r\n                                        {props.Test}\r\n                                        <span className=\"movie__title\">{movie.Title}</span>\r\n                                        <div className=\"movie__details\">\r\n                                            <span className=\"movie__year\">{movie.Year}</span>\r\n                                            <span className=\"movie__type\">{movie.Type}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    ) : (\r\n                        <p className=\"movielist__message\">\r\n                            Sorry, we couldn't find anything based on your request!\r\n                        </p>\r\n                    )}\r\n                </div>\r\n            </section>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MovieList;\r\n","function Footer () {\r\n    return(\r\n    <footer>\r\n        <p>Some fake copyrights</p>\r\n        <p>All rights reserved</p>\r\n    </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, BrowserRouter as Router } from \"react-router-dom\";\n\nimport \"./normalize.css\";\nimport \"./App.sass\";\n\nimport Header from \"./common.blocks/Header/Header\";\nimport Home from \"./common.blocks/Home/Home\";\nimport MovieList from \"./common.blocks/MovieList/MovieList\";\nimport Footer from \"./common.blocks/Footer/Footer\";\n\nfunction App() {\n    const [movies, setMovies] = useState(null);\n    const [searchValue, setSearchValue] = useState(\"\");\n    const [type, setType] = useState(\"\");\n    const [resolved, setResolved] = useState(false);\n\n    useEffect(() => {\n        const getMovieRequest = async (searchValue, type) => {\n            const url = `http://www.omdbapi.com/?s=${searchValue}&type=${type}&apikey=68fec587`;\n            const response = await fetch(url);\n            const responseJson = await response.json();\n            if (responseJson.Response === \"True\" || responseJson.Error) {\n                setResolved(true);\n            } else {\n                setResolved(false);\n            }\n            if (responseJson.Search) {\n                setMovies(responseJson.Search);\n            } else {\n                setMovies([]);\n            }\n        };\n        getMovieRequest(searchValue, type);\n    }, [searchValue, type]);\n\n\n    //This effect saves the user's query in localStorage after page reload.\n    useEffect(() => {\n        const getQuery = async () => {\n            const query = localStorage.getItem(\"searchQuery\");\n            if (query) {\n                setSearchValue(query);\n            }\n        };\n        getQuery();\n    }, []);\n\n    return (\n        <Router>\n            <div className=\"wrapper\">\n                <Header\n                    searchValue={searchValue}\n                    setSearchValue={setSearchValue}\n                    type={type}\n                    setType={setType}\n                />\n                <Switch>\n                    <Route exact path={[\"/home\", \"/\"]}>\n                        <Home />\n                    </Route>\n                    <Route path=\"/search\">\n                        <MovieList movies={movies} resolved={resolved} />\n                    </Route>\n                </Switch>\n                <Footer />\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}