(this.webpackJsonpomdb=this.webpackJsonpomdb||[]).push([[0],{23:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(16),r=c.n(a),i=(c(23),c(13)),l=c.n(i),o=c(17),j=c(7),u=c(12),m=c(2),h=(c(25),c(26),c(0));var d=function(e){var t=function(t){"all"===t.target.innerText?e.setType(null):e.setType(t.target.innerText)};return e.open?Object(h.jsxs)("ul",{className:"flyout-menu",ref:e.reference,children:[Object(h.jsx)("li",{className:"flyout-menu__item",value:"",onClick:t,children:"all"}),Object(h.jsx)("li",{className:"flyout-menu__item",value:"movie",onClick:t,children:"movie"}),Object(h.jsx)("li",{className:"flyout-menu__item",value:"series",onClick:t,children:"series"}),Object(h.jsx)("li",{className:"flyout-menu__item",value:"game",onClick:t,children:"game"})]}):null},b=function(e){var t=Object(s.useState)(""),c=Object(j.a)(t,2),n=c[0],a=c[1],r=Object(s.useState)(!1),i=Object(j.a)(r,2),l=i[0],o=i[1],u=Object(m.g)(),b=Object(s.useRef)(null),O=Object(s.useRef)(null),f=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=function(e){!b.current||b.current.contains(e.target)||O.current.contains(e.target)||o(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[l]),Object(s.useEffect)((function(){"/home"===u.pathname&&(f.current.value="")}),[u]);return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("div",{className:"header__logo header-margin",onClick:function(){return e.setSearchValue("")},children:Object(h.jsx)("span",{className:"header__title",children:"OMDb"})}),Object(h.jsxs)("div",{className:"search header-margin",children:[Object(h.jsx)("button",{className:"search__flyout_menu button search_padding",onClick:function(){return o(!l)},ref:O,children:"All"}),Object(h.jsx)(d,{open:l,setOpen:o,setType:e.setType,reference:b}),Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.setSearchValue(n)},className:"search__form",children:[Object(h.jsx)("input",{ref:f,type:"search",placeholder:"search, example: Spider-Man",onChange:function(e){var t=e.target.value;a(t)},className:"search__text search_padding"}),Object(h.jsx)("button",{className:"search__action button search_padding",type:"submit",children:Object(h.jsx)("img",{src:"/omdb/img/Header/search.png",alt:""})})]})]}),""!==e.searchValue?Object(h.jsx)(m.a,{to:"/search"}):Object(h.jsx)(m.a,{to:"/home"})]})};var O=function(){return Object(h.jsx)("section",{className:"home section",children:Object(h.jsxs)("div",{className:"home__wrapper",children:[Object(h.jsx)("h1",{className:"home__title",children:"Welcome!"}),Object(h.jsx)("p",{className:"home__subtitle",children:"This is an OMDB API client. You can search movies, TV series and videogames from the OMDB API and filter them by category."})]})})},f=function(e){return Object(h.jsx)("section",{className:"movielist section",children:Object(h.jsx)("div",{className:"movielist__wrapper",children:e.resolved?0!==e.movies.length?e.movies.map((function(t,c){return Object(h.jsx)("div",{className:"movie",children:Object(h.jsxs)("div",{className:"movie__wrapper",children:[Object(h.jsx)("div",{className:"movie__poster",children:Object(h.jsx)("img",{className:"movie__img",src:t.Poster,alt:t.Title})}),Object(h.jsxs)("div",{className:"movie__info",children:[e.Test,Object(h.jsx)("span",{className:"movie__title",children:t.Title}),Object(h.jsxs)("div",{className:"movie__details",children:[Object(h.jsx)("span",{className:"movie__year",children:t.Year}),Object(h.jsx)("span",{className:"movie__type",children:t.Type})]})]})]})},c)})):Object(h.jsx)("p",{className:"movielist__message",children:"Sorry, we couldn't find anything based on your request!"}):Object(h.jsx)("p",{className:"movielist__message",children:"Loading..."})})})};var p=function(){return Object(h.jsxs)("footer",{children:[Object(h.jsx)("p",{children:"Some fake copyrights"}),Object(h.jsx)("p",{children:"All rights reserved"})]})};var v=function(){var e=Object(s.useState)(null),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(j.a)(a,2),i=r[0],d=r[1],v=Object(s.useState)(""),x=Object(j.a)(v,2),_=x[0],g=x[1],N=Object(s.useState)(!1),y=Object(j.a)(N,2),S=y[0],T=y[1];return Object(s.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(t,c){var s,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="http://www.omdbapi.com/?s=".concat(t,"&type=").concat(c,"&apikey=68fec587"),e.next=3,fetch(s);case 3:return a=e.sent,e.next=6,a.json();case 6:"True"===(r=e.sent).Response||r.Error?T(!0):T(!1),r.Search?n(r.Search):n([]),console.log(r);case 10:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}})()(i,_)}),[i,_]),Object(h.jsx)(u.a,{children:Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(b,{searchValue:i,setSearchValue:d,type:_,setType:g}),Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{exact:!0,path:["/home","/"],children:Object(h.jsx)(O,{})}),Object(h.jsx)(m.b,{path:"/search",children:Object(h.jsx)(f,{movies:c,resolved:S})})]}),Object(h.jsx)(p,{})]})})},x=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,37)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),x()}},[[36,1,2]]]);
//# sourceMappingURL=main.dfd5a643.chunk.js.map