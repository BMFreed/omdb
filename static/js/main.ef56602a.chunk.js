(this.webpackJsonpomdb=this.webpackJsonpomdb||[]).push([[0],{23:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(17),r=c.n(a),i=(c(23),c(10)),l=c.n(i),o=c(14),j=c(7),m=c(13),u=c(2),d=(c(25),c(26),c(0));var b=function(e){var t=function(t){"All"===t.target.innerText?e.setType(null):e.setType(t.target.innerText)};return e.open?Object(d.jsxs)("ul",{className:"flyout-menu",ref:e.reference,children:[Object(d.jsx)("li",{className:"flyout-menu__item",value:"",onClick:t,children:"all"}),Object(d.jsx)("li",{className:"flyout-menu__item",value:"movie",onClick:t,children:"movie"}),Object(d.jsx)("li",{className:"flyout-menu__item",value:"series",onClick:t,children:"series"}),Object(d.jsx)("li",{className:"flyout-menu__item",value:"game",onClick:t,children:"game"})]}):null},h=function(e){var t=Object(s.useState)(""),c=Object(j.a)(t,2),n=c[0],a=c[1],r=Object(s.useState)(!1),i=Object(j.a)(r,2),l=i[0],o=i[1],m=Object(u.g)(),h=Object(s.useRef)(null),O=Object(s.useRef)(null),v=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=function(e){!h.current||h.current.contains(e.target)||O.current.contains(e.target)||o(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[l]),Object(s.useEffect)((function(){"/home"===m.pathname&&(v.current.value="")}),[m]);return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("div",{className:"header__logo header-margin",onClick:function(){return e.setSearchValue("")},children:Object(d.jsx)("span",{className:"header__title",children:"OMDb"})}),Object(d.jsxs)("div",{className:"search header-margin",children:[Object(d.jsx)("button",{className:"search__flyout_menu button search_padding",onClick:function(){return o(!l)},ref:O,children:"All"}),Object(d.jsx)(b,{open:l,setOpen:o,setType:e.setType,reference:h}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.setSearchValue(n),localStorage.setItem("searchQuery",n)},className:"search__form",children:[Object(d.jsx)("input",{ref:v,type:"search",placeholder:"search, example: Spider-Man",onChange:function(e){var t=e.target.value;a(t)},className:"search__text search_padding"}),Object(d.jsx)("button",{className:"search__action button search_padding",type:"submit",children:Object(d.jsx)("img",{src:"/omdb/img/Header/search.png",alt:""})})]})]}),""!==e.searchValue?Object(d.jsx)(u.a,{to:"/search"}):Object(d.jsx)(u.a,{to:"/home"})]})};var O=function(){return Object(d.jsx)("section",{className:"home section",children:Object(d.jsxs)("div",{className:"home__wrapper",children:[Object(d.jsx)("h1",{className:"home__title",children:"Welcome!"}),Object(d.jsx)("p",{className:"home__subtitle",children:"This is an OMDB API client. You can search movies, TV series and videogames from the OMDB API and filter them by category."})]})})};var v=function(e){return console.log(e.movie),Object(d.jsxs)("section",{className:"movie-card",children:[Object(d.jsxs)("div",{className:"movie-card__content",children:[Object(d.jsx)("h2",{className:"movie-card__title",children:e.movie.Title}),Object(d.jsxs)("div",{className:"movie-card__wrapper",children:[Object(d.jsx)("img",{src:e.movie.Poster,alt:"".concat(e.movie.Title," poster")}),Object(d.jsxs)("div",{className:"movie-card__right-content",children:[Object(d.jsx)("span",{children:Object(d.jsx)("b",{children:e.movie.Type})}),Object(d.jsxs)("span",{children:[Object(d.jsx)("b",{children:"Year of release:"})," ",e.movie.Year]}),Object(d.jsxs)("span",{children:[Object(d.jsx)("b",{children:"ImDB ID:"})," ",e.movie.imdbID]}),Object(d.jsx)("p",{children:"Description not provided by the API."})]})]}),Object(d.jsx)("a",{href:"/",className:"movie-card__close-button",onClick:function(t){t.preventDefault(),e.setMovie(null)},children:Object(d.jsx)("img",{src:"/omdb/img/Movies/close.png",alt:"close"})})]}),Object(d.jsx)("div",{className:"movie-card__background"})]})},p=function(e){var t=Object(s.useState)(null),c=Object(j.a)(t,2),n=c[0],a=c[1],r=function(t){for(var c=t.currentTarget.innerText.split("\n")[0],s=0;s<e.movies.length;s++)e.movies[s].Title===c&&a(e.movies[s])};return Object(d.jsxs)(d.Fragment,{children:[n?Object(d.jsx)(v,{movie:n,setMovie:a}):null,Object(d.jsx)("section",{className:"movielist section",children:Object(d.jsx)("div",{className:"movielist__wrapper",children:e.resolved?e.movies&&0!==e.movies.length?e.movies.map((function(t,c){return Object(d.jsx)("div",{className:"movie",onClick:r,children:Object(d.jsxs)("div",{className:"movie__wrapper",children:[Object(d.jsx)("div",{className:"movie__poster",children:Object(d.jsx)("img",{className:"movie__img",src:t.Poster,alt:t.Title})}),Object(d.jsxs)("div",{className:"movie__info",children:[e.Test,Object(d.jsx)("span",{className:"movie__title",children:t.Title}),Object(d.jsxs)("div",{className:"movie__details",children:[Object(d.jsx)("span",{className:"movie__year",children:t.Year}),Object(d.jsx)("span",{className:"movie__type",children:t.Type})]})]})]})},c)})):Object(d.jsx)("p",{className:"movielist__message",children:"Sorry, we couldn't find anything based on your request!"}):Object(d.jsx)("p",{className:"movielist__message",children:"Loading..."})})})]})};var x=function(){return Object(d.jsxs)("footer",{children:[Object(d.jsx)("p",{children:"Some fake copyrights"}),Object(d.jsx)("p",{children:"All rights reserved"})]})};var f=function(){var e=Object(s.useState)(null),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(j.a)(a,2),i=r[0],b=r[1],v=Object(s.useState)(""),f=Object(j.a)(v,2),_=f[0],g=f[1],N=Object(s.useState)(!1),y=Object(j.a)(N,2),T=y[0],S=y[1];return Object(s.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(t,c){var s,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="http://www.omdbapi.com/?s=".concat(t,"&type=").concat(c,"&apikey=68fec587"),e.next=3,fetch(s);case 3:return a=e.sent,e.next=6,a.json();case 6:"True"===(r=e.sent).Response||r.Error?S(!0):S(!1),r.Search?n(r.Search):n([]);case 9:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}})()(i,_)}),[i,_]),Object(s.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=localStorage.getItem("searchQuery"))&&b(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(d.jsx)(m.a,{children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(h,{searchValue:i,setSearchValue:b,type:_,setType:g}),Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{exact:!0,path:["/home","/"],children:Object(d.jsx)(O,{})}),Object(d.jsx)(u.b,{path:"/search",children:Object(d.jsx)(p,{movies:c,resolved:T})})]}),Object(d.jsx)(x,{})]})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,37)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),_()}},[[36,1,2]]]);
//# sourceMappingURL=main.ef56602a.chunk.js.map